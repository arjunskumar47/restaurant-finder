{"version":3,"sources":["webpack:///./src/components/list/map/Marker.js","webpack:///./src/components/list/Map.js","webpack:///./src/components/list/Restaurant.js","webpack:///./src/components/List.js"],"names":["__webpack_require__","Marker","_react2","default","Component","highlightClass","this","props","highlight","createElement","className","src","width","height","alt","propTypes","_propTypes2","bool","_reactRedux","DEFAULT_CENTER","lat","lng","Map","_props","center","zoom","apiKey","markers","markerPoints","map","_marker","_Marker2","_extends","key","id","toRender","window","_googleMapReact2","bootstrapURLKeys","defaultCenter","defaultZoom","object","number","string","array","connect","state","Object","keys","location","length","Number","latitude","longitude","app","config","GoogleMapsKey","Restaurant","_classCallCheck","_this","_possibleConstructorReturn","__proto__","getPrototypeOf","call","onHover","bind","hover","item","onMouseEnter","thumb","name","href","url","target","locality","address","style","background","user_rating","rating_color","title","rating_text","aggregate_rating","votes","cuisines","currency","average_cost_for_two","photos_url","has_online_delivery","menu_url","func","_Entities","List","dispatch","getRestaurantsForLocation","match","params","setState","_this2","locationInfo","_loadingToRender","_locationMeta","_restaurantList","popularity","nearby_restaurants","city_name","country_name","top_cuisines","join","_restaurant","restaurant","push","_Restaurant2","_Map2","_withRouter2","entities","activeEntity"],"mappings":"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","file":"static/js/list.591d4ca7.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass Marker extends React.Component {\n\n  render() {\n\n    const { highlight } = this.props;\n\n    const highlightClass =  highlight ? 'focus' : '';\n\n    return(\n      <div className={'map-marker'}>\n        <img src={'http://simpleicon.com/wp-content/uploads/map-marker-13.png'} width={30} height={30} className={`normal ${highlightClass}`} alt={'marker'} />\n        <img src={'http://www.pngall.com/wp-content/uploads/2017/05/Map-Marker-PNG-Picture.png'} width={30} height={30} className={`active ${highlightClass}`} alt={'marker'} />\n      </div>\n    )\n\n  }\n\n}\n\nMarker.propTypes = {\n  highlight: PropTypes.bool\n};\n\nexport default Marker;","import React from 'react';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\n\nimport GoogleMapReact from 'google-map-react';\n\nimport Marker from './map/Marker';\n\n// Koramangala\nconst DEFAULT_CENTER = {\n  lat: 12.937254,\n  lng: 77.626938\n};\n\nclass Map extends React.Component {\n\n  render() {\n\n    const { center, zoom, apiKey, markerPoints } = this.props;\n\n    const markers = markerPoints.map( _marker => {\n\n      return <Marker key={_marker.id} {..._marker} />\n\n    });\n\n    let toRender = typeof window === 'undefined'\n      ? null\n      : (\n        <GoogleMapReact\n          bootstrapURLKeys={{ key: apiKey }}\n          defaultCenter={center}\n          defaultZoom={zoom}\n        >\n          { markers }\n        </GoogleMapReact>\n      );\n\n    return (\n      <div className={`row`}>\n        <div className={'col-xs-12 map-wrapper no-pad'}>\n          { toRender }\n        </div>\n      </div>\n    )\n\n  }\n\n}\n\nconst mapStateToProps = (state) => {\n\n  const center = Object.keys(state.location).length\n    ? {\n      lat: Number( state.location.latitude ),\n      lng: Number( state.location.longitude )\n    }\n    : DEFAULT_CENTER;\n\n  return {\n    center,\n    zoom: 15,\n    apiKey: state.app.config.GoogleMapsKey\n  }\n\n};\n\nMap.propTypes = {\n  center: PropTypes.object,\n  zoom: PropTypes.number,\n  apiKey: PropTypes.string,\n  markerPoints: PropTypes.array\n};\n\nexport default connect(mapStateToProps)(Map);","import React from 'react';\nimport PropTypes from 'prop-types';\n\nclass Restaurant extends React.Component {\n\n  constructor() {\n    super();\n\n    this.onHover = this.onHover.bind(this);\n  }\n\n  onHover() {\n    this.props.hover(this.props.item.id)\n  }\n\n  render() {\n\n    const { item, highlight } = this.props;\n    const highlightClass = highlight ? 'hovered' : '';\n\n    return(\n      <div className={`row`}>\n        <div className={`col-xs-12 restaurant-item ${highlightClass}`} onMouseEnter={this.onHover}>\n          <div className={'col-xs-2 no-pad featured_image'}>\n            <img src={item.thumb} alt={item.name} />\n          </div>\n          <div className={'col-xs-10 content'}>\n            <h4>\n              <a href={item.url} target={'_blank'}>\n                { item.name }\n              </a>\n            </h4>\n            <p className={'locality'}>\n              { item.location.locality }\n            </p>\n            <p className={'address'}>\n              { item.location.address }\n            </p>\n            <p className={'user-rating'}>\n              <span className={'aggregate_rating'} style={{background: `#${item.user_rating.rating_color}`}} title={item.user_rating.rating_text}>\n                { item.user_rating.aggregate_rating }\n              </span>\n              <span>\n                { item.user_rating.votes } votes\n              </span>\n            </p>\n          </div>\n          <div className={`col-xs-12 meta text-left`}>\n            <div className={'col-xs-3 key'}>\n              Cuisines\n            </div>\n            <div className={'col-xs-9 value'}>\n              { item.cuisines }\n            </div>\n            <div className={'col-xs-3 key'}>\n              average cost for two\n            </div>\n            <div className={'col-xs-9 value'}>\n              {item.currency}{ item.average_cost_for_two }\n            </div>\n          </div>\n          <div className={'col-xs-12 no-pad action'}>\n            <a href={item.photos_url} target={'_blank'} className={'btn btn-pics'}>\n              View Photos\n            </a>\n            {\n              !item.has_online_delivery\n                ? null\n                : (\n                  <a href={`https://www.zomato.com/restaurant?tab=order&res_id=${item.id}`} target={'_blank'} className={'btn btn-order'}>\n                    Order online\n                  </a>\n                )\n            }\n            <a href={item.menu_url} target={'_blank'} className={'btn btn-menu'}>\n              View Menu\n            </a>\n          </div>\n        </div>\n      </div>\n    )\n\n  }\n\n}\n\nRestaurant.propTypes = {\n  item: PropTypes.object,\n  hover: PropTypes.func,\n  highlight: PropTypes.bool\n};\n\nexport default Restaurant;","import React from 'react';\nimport { connect } from 'react-redux';\nimport withRouter from 'react-router-dom/withRouter';\nimport PropTypes from 'prop-types';\n\nimport { getRestaurantsForLocation } from '../actions/Entities';\n\nimport Restaurant from './list/Restaurant';\nimport Map from './list/Map';\n\nclass List extends React.Component {\n\n  constructor() {\n    super();\n\n    this.state = {\n      highlight: false\n    };\n\n    this.onHover = this.onHover.bind(this);\n  }\n\n  componentWillMount() {\n    if( typeof window !== 'undefined' )\n      this.props.dispatch( getRestaurantsForLocation(this.props.match.params) );\n  }\n\n  onHover(id) {\n\n    this.setState({\n      highlight: id\n    });\n\n  }\n\n  render() {\n\n    const { locationInfo } = this.props;\n    const _loadingToRender = <p className={'loading'}>Loading...</p>\n    let _locationMeta = _loadingToRender;\n    let _restaurantList = _loadingToRender;\n    let markerPoints = [];\n    if( Object.keys(locationInfo).length ) {\n\n      const { location, popularity, nearby_restaurants } = locationInfo;\n      _locationMeta = (\n        <div className={'LocationMeta-inner'}>\n          <h1>\n            { location.title }, <span>{ location.city_name }, { location.country_name }</span>\n          </h1>\n          <h3>\n\n          </h3>\n          <div className={'top-cuisines'}>\n            <p>Top cuisines</p>\n            <span>\n              {\n                popularity.top_cuisines.join(', ')\n              }\n            </span>\n          </div>\n        </div>\n      );\n\n      _restaurantList = nearby_restaurants.map( _restaurant => {\n\n        const { restaurant } = _restaurant;\n\n        const highlight = this.state.highlight === restaurant.id;\n\n        markerPoints.push({\n          id: restaurant.id,\n          lat: Number( restaurant.location.latitude ),\n          lng: Number( restaurant.location.longitude ),\n          highlight\n        });\n        return <Restaurant highlight={highlight} key={restaurant.id} item={restaurant} hover={this.onHover}/>\n\n      })\n\n    }\n\n    return(\n      <div className={`row`}>\n        <div className={`col-xs-12 ListPage page`}>\n          <div className={`container-fluid`}>\n            <div className={'row'}>\n              <div className={`col-xs-12 ListPage-location`}>\n                { _locationMeta }\n              </div>\n            </div>\n            <div className={'row'}>\n              <div className={'col-xs-12 col-md-6'}>\n                <div className={'col-xs-12 ListPage-section restaurant'}>\n                  <h3>Nearby restaurants</h3>\n                  { _restaurantList }\n                </div>\n              </div>\n              <div className={'col-xs-12 col-md-6'}>\n                <div className={'col-xs-12 ListPage-section map'}>\n                  <Map markerPoints={markerPoints} />\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    )\n\n  }\n\n}\n\nconst mapStateToProps = (state) => {\n\n  return {\n    locationInfo: state.entities[state.activeEntity] || {}\n  }\n\n};\n\nList.propTypes = {\n  match: PropTypes.object,\n  locationInfo: PropTypes.object,\n  dispatch: PropTypes.func\n};\n\nexport default withRouter(connect(mapStateToProps)(List));"],"sourceRoot":""}